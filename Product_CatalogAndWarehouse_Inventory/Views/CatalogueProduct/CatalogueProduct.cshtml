@model Product_CatalogAndWarehouse_Inventory.Models.CatalogueProductModel
@{
    ViewBag.Title = "CatalogueProduct";
}
@if (ViewBag.ErrorMessage != null)
{
    <div class="alert alert-danger alert-dismissable">
        <button aria-hidden="true" data-dismiss="alert" class="close" type="button">×</button>
        @ViewBag.ErrorMessage

    </div>

}
@if (ViewBag.Message != null)
{
    <div class="alert alert-success alert-dismissable">
        <button aria-hidden="true" data-dismiss="alert" class="close" type="button">×</button>
        @ViewBag.Message

    </div>

}
<div class="wrapper wrapper-content animated fadeInRight">
    <div class="row">
        <div class="col-lg-12">
            <div class="panel panel-info">
                <div class="panel-heading">
                    Add Catalogue Product
                </div>
                <form method="post" enctype="multipart/form-data">
                    <div class="panel-body">
                        <div class="col-lg-4">
                            <div class="panel panel-default">
                                <div class="panel-body" style="min-height:820px">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label>Product Name:</label>
                                            @Html.TextBoxFor(m => m.ProductName, new { @class = "form-control" })
                                            @Html.ValidationMessageFor(m => m.ProductName, "", new { @style = "color:red" })
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label>Warehouse SKU:</label>
                                            @Html.TextBoxFor(m => m.WarehouseSKU, new { @class = "form-control" })
                                            @Html.ValidationMessageFor(m => m.WarehouseSKU, "", new { @style = "color:red" })

                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label>Description:</label>
                                            @Html.TextArea("description", "", new { @class = "form-control", placeholder = "Enter a message ..." })
                                            @*<textarea class="form-control" id="message" rows="3" placeholder="Enter a message ..."></textarea>*@
                                        </div>

                                        <div class="form-group">
                                            <label>HS Code:</label>
                                            @Html.TextBox("hscode", "", new { @class = "form-control" })
                                        </div>
                                    </div>
                                    <div class="form-group" style="text-align:center">
                                        <label>Product Dimensions:</label>
                                    </div>
                                    <hr />
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label>Width (CM):</label>
                                            @Html.TextBox("width", "", new { @class = "form-control" })
                                        </div>
                                        <div class="form-group">
                                            <label>Length (CM):</label>
                                            @Html.TextBox("length", "", new { @class = "form-control" })
                                        </div>
                                        <div class="form-group">
                                            <label>Height (CM):</label>
                                            @Html.TextBox("height", "", new { @class = "form-control" })
                                        </div>
                                        <div class="form-group">
                                            <label>MaterialComposition:</label>
                                            @Html.TextBox("materialComposition", "", new { @class = "form-control" })
                                        </div>
                                        <div class="form-group">
                                            <label>Varsany Bag:</label>
                                            @Html.TextBox("varsanyBag", "", new { @class = "form-control" })
                                        </div>
                                        <div class="form-group">
                                            <label>Colour:</label>
                                            @Html.TextBox("colour", "", new { @class = "form-control" })
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label>ProductWeight(KG):</label>
                                            @Html.TextBox("productWeight", "", new { @class = "form-control" })
                                        </div>
                                        <div class="form-group">
                                            <label>Box Size (CM):</label>
                                            @Html.TextBox("boxSize", "", new { @class = "form-control" })
                                        </div>
                                        <div class="form-group">
                                            <label>Box Quantity:</label>
                                            @Html.TextBox("boxQuantity", "", new { @class = "form-control" })
                                        </div>
                                        <div class="form-group">
                                            <label>Manufacturer:</label>
                                            @Html.TextBox("manufacturer", "", new { @class = "form-control" })
                                        </div>
                                        <div class="form-group">
                                            <label>Mailing Bag:</label>
                                            @Html.TextBox("maillingBag", "", new { @class = "form-control" })
                                        </div>
                                        <div class="form-group">
                                            <label>Size:</label>
                                            @Html.TextBox("Size", "", new { @class = "form-control" })
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="panel panel-default">
                                <div class="panel-body" style="min-height:820px">
                                    <div class="col-lg-12">
                                        <center><label for="showEasing">Cost</label></center>
                                        <div class="ibox-content">
                                        </div>
                                    </div>
                                    <div class="col-lg-12">
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label>Product Cost:</label>
                                                @Html.TextBoxFor(m => m.ProductCost, new { @class = "form-control" })
                                                @Html.ValidationMessageFor(m => m.ProductCost, "", new { @style = "color:red" })
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>Commision (%):</label>
                                                @Html.TextBox("commision", "", new { @class = "form-control" })

                                                @*@Html.ValidationMessageFor(m => m.ProductCost, "", new { @style = "color:red" })*@
                                            </div>
                                        </div>

                                    </div>
                                    <div class="col-lg-12">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>ShippingCostf/CN:</label>
                                                @Html.TextBox("shippingncost", "", new { @class = "form-control" })
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>Duty (%):</label>
                                                @Html.TextBox("duty", "", new { @class = "form-control" })
                                            </div>
                                        </div>

                                    </div>
                                    <div class="form-group">
                                        <div class="col-md-12" style="text-align:center">
                                            <label>Total Cost</label>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>Chinese Yuan</label>
                                                @Html.TextBoxFor(m => m.ChineseYuan, "", new { @class = "form-control", @disabled = "true", Value = "0.00" })
                                            </div>
                                            <div class="form-group">
                                                <label>US Dollar</label>
                                                @Html.TextBoxFor(m => m.USDollar, "", new { @class = "form-control", @disabled = "true", Value = "0.00" })
                                            </div>
                                            <div class="form-group">
                                                <label>Euros</label>
                                                @Html.TextBoxFor(m => m.Euros, "", new { @class = "form-control", @disabled = "true", Value = "0.00" })
                                            </div>
                                            <div class="form-group">
                                                <label>Total Cost</label>
                                                @Html.TextBoxFor(m => m.TotalCost, "", new { @class = "form-control", @disabled = "true", Value = "0.00" })
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>


                        <div class="col-lg-4">
                            <div class="panel panel-default" style="min-height:820px">

                                <div class="panel-body">
                                    <div class="col-lg-12">
                                        <label for="showEasing">Product Image</label>
                                        <div class="ibox-content">
                                        </div>
                                        <h5 style="color:grey">IMAGE FORMAT MUST BE JPG,PNG</h5>
                                        <div id="drop-zone" onclick="inputClick(event)">


                                            <img src="" alt="" id="dropzone-img">
                                            <p>Drop file or click to upload</p>
                                            @*<input type="file" id="upload-img" name="Imageupload" hidden />*@
                                            @Html.TextBoxFor(m => m.ProductImage, "", new { type = "file", id = "upload-img" })

                                        </div>



                                    </div>
                                    @Html.ValidationMessageFor(m => m.ProductImage, "", new { @style = "color:red" })

                                    <div class="panel-body">
                                        <div class="infont row-col-md-6">
                                            <a href=""><i class="fa fa-trash" style="color: red;padding-top:15px;">Delete Attachment</i> </a>
                                        </div>
                                    </div>
                                    <div class="col-sm-12">
                                        <button class="btn btn-default" type="button">Cancel</button>
                                        <button class="btn btn-primary" type="submit">Save Product</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>

        </div>

    </div>
</div>
<style>
    #drop-zone {
        max-width: 300px;
        height: 300px;
        border: solid 1px #CCC;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    #dropzone-img {
        object-fit: contain;
        width: 100%;
        height: 300px;
        display: none;
        padding: 4px;
    }

    #upload-img {
        display: none;
    }
</style>
@section Scripts{
    <script>
        const dropZone = document.querySelector('#drop-zone');
        const inputElement = document.getElementById('upload-img');
        const img = document.querySelector('#dropzone-img');
        let p = document.querySelector('p')

        /*"use strict";*/
        dropZone.addEventListener('change', (e) => {
            console.log(event)
            var fileName = URL.createObjectURL(event.target.files[0]);

            var previewImg = document.getElementById("dropzone-img");
            previewImg.style.display = "block";
            previewImg.setAttribute("src", fileName);

            p.style = 'display: none';
        });
        function dragNdrop(event) {
            console.log(event)
            var fileName = URL.createObjectURL(event.target.files[0]);

            var previewImg = document.getElementById("dropzone-img");
            previewImg.style.display = "block";
            previewImg.setAttribute("src", fileName);

            p.style = 'display: none';
        }

        function inputClick() {
            /*debugger;*/
            inputElement.click()
        }

        dropZone.addEventListener('dragover', (e) => {
            e.preventDefault();
        });
        dropZone.addEventListener('drop', (e) => {
            e.preventDefault();
            img.style = "display:block;";
            let file = e.dataTransfer.files[0];

            const reader = new FileReader();
            reader.readAsDataURL(file);
            reader.onloadend = function () {
                e.preventDefault()
                p.style = 'display: none';
                let src = this.result;
                img.src = src;
                img.alt = file.name
            }
            $("#upload-img").prop("files", e.dataTransfer.files) 
        });
    </script>
}


